#!/usr/bin/env bash

# avoid the rodent
xbanish &

# capslock is backspace
xmodmap "$XDG_CONFIG_HOME/Xorg/Xmodmap"
setxkbmap us colemak

# set the wallpaper
xsetroot -solid "#555" # dark gray
for wp in "$XDG_CONFIG_HOME"/wallpaper.*; do
  feh --bg-fill "$wp"
done

# dwm status bar
while true; do
  DT="$(date '+%a %d %b %H:%M')"
  LOAD="$(load)"
  xsetroot -name "$LOAD  |  $DT"
  sleep 5
done &

# start dwm
exec dwm
